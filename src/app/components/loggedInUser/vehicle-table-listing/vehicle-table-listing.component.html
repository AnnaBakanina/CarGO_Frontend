<div class="container mt-2">

  <!-- <pre>{{ paginatedVehicles | json }}</pre> -->

    <!-- Фільтри -->
    <div class="row mb-3">
      <div class="col-md-3">
        <input type="text" class="form-control" [(ngModel)]="filters.brand" placeholder="Фільтр за брендом">
      </div>
      <div class="col-md-3">
        <input type="text" class="form-control" [(ngModel)]="filters.model" placeholder="Фільтр за моделлю">
      </div>
      <div class="col-md-3">
        <input type="text" class="form-control" [(ngModel)]="filters.vin" placeholder="VIN">
      </div>
    </div>
  
    <div class="table-responsive">
        <table class="table table-bordered table-hover table-striped">
            <thead>
              <tr>
                <th (click)="sortData('id')">ID</th>
                <th (click)="sortData('user')">User ID</th>
                <th (click)="sortData('brand')">Brand</th>
                <th (click)="sortData('model')">Model</th>
                <th (click)="sortData('carType')">Car Type</th>
                <th (click)="sortData('techState')">Tech State</th>
                <th (click)="sortData('yearOfRelease')">Year</th>
                <th (click)="sortData('vinNumber')">VIN</th>
                <th (click)="sortData('carMileage')">Mileage</th>
                <th>Description</th>
                <th>Auction</th>
                <th>Payment in Parts</th>
                <th>Taxable</th>
                <th>Phone</th>
                <th (click)="sortData('region')">Region</th>
                <th (click)="sortData('city')">City</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let vehicle of paginatedVehicles">
                <td>{{ vehicle.id }}</td>
                <td>{{ vehicle.user?.id }}</td>
                <td>{{ vehicle.brand.name }}</td>
                <td>{{ vehicle.model.name }}</td>
                <td>{{ vehicle.carType.name }}</td>
                <td>{{ vehicle.techState.name }}</td>
                <td>{{ vehicle.yearOfRelease }}</td>
                <td>{{ vehicle.vinNumber }}</td>
                <td>{{ vehicle.carMileage }}</td>
                <td>{{ vehicle.description }}</td>
                <td><input type="checkbox" [checked]="vehicle.isAuction" disabled></td>
                <td><input type="checkbox" [checked]="vehicle.isPaymentInParts" disabled></td>
                <td><input type="checkbox" [checked]="vehicle.isTaxable" disabled></td>
                <!-- <td>{{ vehicle.lastUpdated | date:'short' }}</td> -->
                <td>{{ vehicle.phoneNumber }}</td>
                <td>{{ vehicle.region.name }}</td>
                <td>{{ vehicle.city.name }}</td>
              </tr>
            </tbody>
          </table>
    </div>
  
    <!-- Пагінація -->
    <nav>
      <ul class="pagination justify-content-center">
        <li class="page-item" [class.disabled]="currentPage === 1">
          <a class="page-link" (click)="changePage(currentPage - 1)">Previous</a>
        </li>
        <li class="page-item" *ngFor="let page of totalPagesArray()" [class.active]="page === currentPage">
          <a class="page-link" (click)="changePage(page)">{{ page }}</a>
        </li>
        <li class="page-item" [class.disabled]="currentPage === totalPages">
          <a class="page-link" (click)="changePage(currentPage + 1)">Next</a>
        </li>
      </ul>
    </nav>
  </div>
  